\documentclass[11pt]{article}
\usepackage{fullpage}
\usepackage{amsthm}

\usepackage{amsthm,amsmath,amsfonts,amssymb,amstext,enumitem}
\usepackage{latexsym,ifthen,url,rotating,graphicx}
\usepackage{listings}
\usepackage{tikz}
\usetikzlibrary{arrows,shapes,positioning,fit}
\usepackage{graphicx}
\usepackage[font=small,labelfont=bf]{caption}

\usepackage{hyperref}
\hypersetup{
	colorlinks=false
}



% --- -----------------------------------------------------------------
% --- Document-specific definitions.
% --- -----------------------------------------------------------------
\lstset{
	columns=fixed,
	literate={—}{{---}}1 {…}{{...}}1
}

\newcommand{\todo}[1]{{\color{red}[TODO:{#1}]}}

\newtheorem{problem}{Problem}
\newtheorem{corollary}{Corollary}
\newtheorem{fact}{Fact}
\newtheorem{exercise}{Exercise}
\newtheorem{theorem}{Theorem}
\newtheorem{definition}{Definition}
\newtheorem{notation}{Notation}
\newtheorem{lemma}{Lemma}
\newtheorem{example}{Example}

\newcommand{\getsr}
{{\:\stackrel{\raisebox{-2pt}{${\scriptscriptstyle \hspace{0.2em}\$}$}}
		{\leftarrow}\:}}
\newcommand{\points}[1]{\textbf{({#1} pts)}}

\newcommand{\Colon}{\ : \ }
\newcommand{\st}{\mathsf{state}}
\newcommand{\msgs}{\mathcal{M}}
\newcommand{\ctxts}{\mathcal{C}}
\newcommand{\keys}{\mathcal{K}}
\newcommand{\kg}{\mathcal{K}}
\newcommand{\enc}{E}
\newcommand{\dec}{E^{-1}}
\newcommand{\MAC}{\mathrm{MAC}}
\newcommand{\RMAC}{\mathrm{RMAC}}

\newcommand{\pk}{pk}
\newcommand{\sk}{sk}

\newcommand{\calD}{\mathcal{D}}
\newcommand{\calA}{\mathcal{A}}
\newcommand{\calB}{\mathcal{B}}
\newcommand{\AES}{\mathsf{AES}}

\newcommand{\algorithm}[1]{\textbf{Alg} {#1}}

\newcommand{\calO}{\mathcal{O}}

\newcommand{\dlog}{\mathrm{dlog}}

\newcommand{\Adv}{\mathbf{Adv}}
\newcommand{\AdvPRF}[2]{\Adv^{\mathrm{prf}}_{#1}({#2})}
\newcommand{\AdvPRG}[2]{\Adv^{\mathrm{prg}}_{#1}({#2})}
\newcommand{\AdvCPA}[2]{\Adv^{\mathrm{cpa}}_{#1}({#2})}
\newcommand{\AdvCCA}[2]{\Adv^{\mathrm{ind{-}cca}}_{#1}({#2})}
\newcommand{\AdvKR}[2]{\Adv^{\mathrm{kr}}_{#1}({#2})}
\newcommand{\AdvCKR}[2]{\Adv^{\mathrm{ckr}}_{#1}({#2})}
\newcommand{\AdvRMR}[2]{\Adv^{\mathrm{rmr}}_{#1}({#2})}
\newcommand{\AdvCR}[2]{\Adv^{\mathrm{cr}}_{#1}({#2})}
\newcommand{\AdvUFCMA}[2]{\Adv^{\textrm{uf{-}cma}}_{#1}({#2})}
\newcommand{\AdvDL}[2]{\Adv^{\mathrm{dl}}_{#1}({#2})}

\newcommand{\Exp}{\mathbf{Exp}}
\newcommand{\ExpOW}[1]{\Exp^{\mathrm{ow}}({#1})}
\newcommand{\ExpCKR}[2]{\Exp^{\mathrm{ckr}}_{#1}({#2})}
\newcommand{\ExpRMR}[2]{\Exp^{\mathrm{rmr}}_{#1}({#2})}

\newcommand{\concat}{{\,\|\,}}
\newcommand{\xor}{\oplus}
\newcommand{\bits}{\{0,1\}}

\newcommand{\tcolh}{T^{\mathrm{col}}_h}
\newcommand{\tcolH}{T^{\mathrm{col}}_{H^2}}
\newcommand{\Hcomb}{H^{1\|2}}
\newcommand{\Hxor}{H^{1\oplus2}}

\newcommand{\EXP}{\textrm{EXP}}
\newcommand{\MODEXP}{\textrm{MOD{-}EXP}}
\newcommand{\ADD}{\textrm{ADD}}
\newcommand{\MULTIMODEXP}{\textrm{MULTI{-}MOD{-}EXP}}
\newcommand{\MUL}{\textrm{MUL}}
\newcommand{\MOD}{\textrm{MOD}}

\newcommand{\GG}{\mathbb{G}}
\newcommand{\ZZ}{\mathbb{Z}}

\newcommand{\bK}{\mathbf{K}}
\newcommand{\bof}{\mathbf{f}}
\newcommand{\bU}{\mathbf{U}}
\newcommand{\bM}{\mathbf{M}}
\newcommand{\bC}{\mathbf{C}}

\newcommand{\rvrange}{\mathcal{R}}
\newcommand{\rspace}{\mathcal{C}}

\newcommand{\hatalpha}{\hat{\alpha}}
\newcommand{\hatb}{\hat{b}}

\newcommand{\barm}{\overline{m}}

\newcommand{\otp}{\mathrm{OTP}}
\newcommand{\des}{\mathrm{DES}}
\newcommand{\twodes}{\mathrm{2DES}}
\newcommand{\threedes}{\mathrm{3DES}}
\newcommand{\threedestwo}{\mathrm{3DES2}}
\newcommand{\aes}{\mathrm{AES}}
\newcommand{\pad}{\mathsf{pad}}
\newcommand{\unpad}{\mathsf{unpad}}
\newcommand{\Func}{\mathrm{Func}}


\newcommand{\Img}{\mathrm{Im}}

\newcommand{\Expt}{\mathbf{Expt}}
\newcommand{\ExptCPA}{\mathbf{Expt}^{\mathrm{cpa}}}
\newcommand{\ExptCCA}{\mathbf{Expt}^{\mathrm{cca}}}
\newcommand{\ExptOTCPA}{\mathbf{Expt}^{\mathrm{1\mbox{-}cpa}}}
\newcommand{\ExptOTCPAone}{\mathbf{Expt}^{\mathrm{1\mbox{-}cpa\mbox{-}1}}}
\newcommand{\ExptOTCPAzero}{\mathbf{Expt}^{\mathrm{1\mbox{-}cpa\mbox{-}0}}}
\newcommand{\AdvOTCPA}[2]{\Adv^{\mathrm{1\mbox{-}cpa}}_{#1}({#2})}
\newcommand{\ExptCPAone}{\mathbf{Expt}^{\mathrm{cpa\mbox{-}1}}}
\newcommand{\ExptCPAzero}{\mathbf{Expt}^{\mathrm{cpa\mbox{-}0}}}

\newcommand{\LR}{\mathrm{LR}}

\newcommand{\Piotp}{\Pi_\mathrm{otp}}
\newcommand{\Encotp}{\Enc_\mathrm{otp}}
\newcommand{\Decotp}{\Dec_\mathrm{otp}}
\newcommand{\bhat}{\hat{b}}
\newcommand{\dict}{\mathtt{dict}}
\newcommand{\Col}{\mathsf{Col}}

% --- -----------------------------------------------------------------
% --- Lecture notes formatting macros
% --- -----------------------------------------------------------------

%
% The following commands set up the lecnum (lecture number)
% counter and make various numbering schemes work relative
% to the lecture number.
%
\newcounter{lecnum}
%\renewcommand{\thepage}{\thelecnum-\arabic{page}}
\renewcommand{\thesection}{\thelecnum.\arabic{section}}
\renewcommand{\theexercise}{\thelecnum.\arabic{exercise}}
\renewcommand{\theexample}{\thelecnum.\arabic{example}}
\renewcommand{\thedefinition}{\thelecnum.\arabic{definition}}
\renewcommand{\theequation}{\thelecnum.\arabic{equation}}
\renewcommand{\thefigure}{\thelecnum.\arabic{figure}}
\renewcommand{\thefact}{\thelecnum.\arabic{fact}}
\renewcommand{\thetable}{\thelecnum.\arabic{table}}


%
% The following macro is used to generate the header.
%
\newcommand{\lecture}[2]{
	%\pagestyle{myheadings}
	%\thispagestyle{plain}
	\newpage
	\setcounter{lecnum}{#1}
	\setcounter{page}{1}
	\noindent
	\begin{center}
		\framebox{
			\vbox{\vspace{2mm}
				\hbox to 6.28in { {\bf CMSC 33100 Advanced Operating Systems
						\hfill Winter 2020} }
				\vspace{4mm}
				\hbox to 6.28in { {\Large \hfill #2 \hfill} }
				\vspace{2mm}
				\hbox to 6.28in { {\it Adam Rivkin, Tiago Royer, Aaron Zhang} \hfill }
				\hbox to 6.28in { {\it Instructor: Shan Lu} \hfill }
				\vspace{2mm}}
		}
	\end{center}
	%\markboth{Lecture #1: #2}{Lecture #1: #2}
	\vspace*{4mm}
}





% --- -----------------------------------------------------------------
% --- The document starts here.
% --- -----------------------------------------------------------------
\begin{document}
	%\lecture{**LECTURE-NUMBER**}{**DATE**}{**LECTURER**}{**SCRIBE**}
	\lecture{1}{Drive Encryption Background}
	
	\tableofcontents
	
	\noindent\hrulefill
	\bigskip
	
	Full Disk/Drive Encryption (FDE) is the process of encrypting entire disks or drives. Unlike a lot of computer security which focuses on protecting data-in-transit between a sender and a receiver, FDE is an example of securing data-at-rest on a device in case a phone or laptop is lost or stolen. Since data-at-rest involves a single party securing information for their own later use, FDE primarily uses cryptographic primitives related to symmetric cryptography, where there is a pre-shared key for encryption and decryption.
	
	I don't know how much of a cryptography background you guys have, so I'm going to include a brief summary of the key ideas and definitions which would apply to our project. Feel free to ignore or skim these sections if you're already familiar with the concepts and syntax. I'll start with the two widely-deployed types of algorithms used for symmetric cryptography: block ciphers and stream ciphers. The key idea to the Strongbox paper is that they use a stream cipher for FDE which is unconventional because block ciphers are typically though of as a better fit for encrypting data-at-rest. All the definitions and  \LaTeX\ come from David Cash's cryptography lecture notes, so full credit to him for the next two sections.
	
	\section{Definition of Block Ciphers}
	
	Let's start by defining a cipher in cryptography.
	\begin{definition}
		Let $\keys,\msgs,\ctxts$ be non-empty sets. A function
		\[
		\enc : \keys\times\msgs \to \ctxts
		\]
		is called a \emph{cipher with key-space $\keys$, message-space
			$\msgs$, and ciphertext-space $\ctxts$} if for every $K\in\keys$,
		the function $\enc(K,\cdot)$ is one-to-one.
		
		For such a cipher, we define 
		\[
		\dec: \keys\times\ctxts \to\msgs
		\]
		by letting $\dec(K,\cdot)$ be the inverse of $\enc(K,\cdot)$ for
		each $K\in\keys$. (More precisely, $\dec(k,c)$ is only defined when
		there exits $m\in\msgs$ such that $\enc(k,m)=c$.)
	\end{definition}
	
	
	So a cipher is an invertible one-to-one function which maps a key and a message to a ciphertext. The definition of a cipher on its own has no security properties. Block ciphers are a subset of ciphers.
	\begin{definition}
		A cipher $E:\keys\times\msgs\to\ctxts$ is called a \emph{block cipher}
		if $\msgs=\ctxts=\bits^\ell$ for some positive integer $\ell$. The integer
		$\ell$ is called the \emph{block length} or \emph{block size} of $E$.
	\end{definition}
	When $E$ is a block cipher, then for each $k\in\keys$, $E(k,\cdot)$ must
	actually be computing a \emph{permutation} on $\bits^\ell$. In practice we will
	always have $\keys=\bits^n$ for some positive integer $n$, and we say that $n$
	is the \emph{key-length} of $E$.
	
	An inuitive way to think about block ciphers is as an extension of substitution ciphers. Substitution ciphers the brain-teasers you might have played when you were younger where each letter of the alphabet is substituted for another letter of the alphabet. In English they're pretty straightforward to break with tricks like a one-letter word needing to correspond to A or I, or the most frequent character likely corresponding to E. Essentially, a substitution cipher is the repeated use of a block cipher where the key is a permutation on the alphabet and the block length is a single letter.
	
	A ``secure'' block cipher is one that ``looks random'' and has a large enough key space that an adversary can't test all possible keys by brute force. Also, there needs to be a method to defend against the idea of using frequency analysis to break the repeated use of a block ciphers with the same key like with substituion ciphers.
	
	\begin{definition}
		Let $E:\bits^n\times\bits^\ell\to\bits^\ell$ and $\calA$ be an adversary.
		Let $\bK$ be uniform on $\bits^n$, and let $\bof$ be a random function
		from $\bits^\ell$ to $\bits^\ell$.
		We define the \emph{pseudorandom function (PRF) distinguishing advantage
			of $\calA$ against $E$} to be
		\[
		\AdvPRF{E}{\calA} =
		\left|\Pr[\calA^{E(\bK,\cdot)}=1]-\Pr[\calA^{\bof(\cdot)}=1]\right|.
		\]
	\end{definition}
	
	\subsection{Tweakable Block Ciphers}
	
	\section{Definition of Stream Ciphers}
	
	
	\section{Application to Disk Encryption}

	\section{Strongbox and New Directions}
	
	\subsection{Links to Relevant Papers}
	
	For our related works section:
	
	\begin{description}[font=$\bullet$~\normalfont\scshape\color{red!50!black}]
		\item \href{https://ieeexplore.ieee.org/abstract/document/6951337}{A Systematic Assessment of the Security of Full Disk Encryption} -- Overview of disk encryption
		\item \href{https://people.eecs.berkeley.edu/~daw/papers/tweak-joc.pdf}{Tweakable Block Ciphers} -- Definition of tweakable block ciphers
		\item \href{https://ieeexplore.ieee.org/abstract/document/6945842}{STES: A Stream Cipher Based Low Cost Scheme for Securing Stored Data} -- Another scheme that uses stream ciphers for disk encryption, but also a rabbit hole I don't want to go too far down
		\item \href{https://eprint.iacr.org/2018/720}{Adiantum: length-preserving encryption for
			entry-level processors} -- A recent Google paper which also uses stream ciphers for disk encryption. This one needs some attention
		\item \href{}{}
	\end{description}
	
	
	
\end{document}